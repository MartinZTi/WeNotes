# 6.更新数据
![](_v_images/20200602120846904_22677.png =400x)

小程序没有dom的api，不可以js获取某个元素属性修改值（来让逻辑层的js对视图层进行数据直接更新）
![](_v_images/20200602120617031_10920.png =400x)

而是，
1. 在视图层的建立数据绑定
2. js对视图层绑定的内部状态数据进行更新，间接对视图层进行更新

![](_v_images/20200602120819353_2666.png =200x)

***
**①案例：在逻辑层的js中对内部状态变量进行 读&写**
![](_v_images/20200602124723840_28723.png =300x)

在页面对象page中新增`fo`函数
![](_v_images/20200602124911769_935.png =300x)
输出为0
***
**写**
![](_v_images/20200602125026022_22608.png =300x)

![](_v_images/20200602125137202_4985.png =300x)
并不会生效！！依旧是初始值 0 

但是调试窗口`AppData`中count值被修改了， 只是视图没有更新！
而且：即便再次+1, AppData视图也没有立即刷新，视图切换回来才更新

![](_v_images/20200602140737066_17410.png =300x)
而必须调用 this.setDate() 方法

![](_v_images/20200602140845012_9232.png =300x)
让框架通知视图层，对于绑定部分进行更新
![](_v_images/20200602141113076_10200.png =400x)
之后：
![](_v_images/20200602141135685_1493.png =400x)

:::alert-warning
**this.setData()**
可以修改内部状态变量的属性值，
还可以动态的新增一个内部状态变量

![](_v_images/20200602141425124_28751.png =300x)
如上：加载过程中，原本不存在的初始的内部状态变量，会被创建
:::

***
###### this.setData()  可以对内部状态数据中的小部分属性进行局部更新
对指定的路径的属性进行操作

要放在双引号之间使用：
![](_v_images/20200602142021947_8769.png =300x)
:::alert-danger
小程序中，视图层对内部状态变量的绑定 -- **单向绑定**，
视图层相应的更新，不会引起内部状态数据的变化
:::



















